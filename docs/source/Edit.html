<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='PIT_CP-view-datastore-Edit'>/**
</span> * ##Overview
 * A view for editing a {@link PIT_CP.model.Datastore}. Contains all the validation
 * necessary to ensure the datastore is edited properly.
 * {@img shots/edit-datastore.png Datastore Info}
 */
Ext.define('PIT_CP.view.datastore.Edit',{
	extend:'Ext.form.Panel',
	alias:'widget.editDatastore',
<span id='PIT_CP-view-datastore-Edit-cfg-layout'>	layout:'vbox',
</span><span id='PIT_CP-view-datastore-Edit-cfg-defaults'>	defaults:{
</span>		width:'100%'
	},

<span id='PIT_CP-view-datastore-Edit-method-initComponent'>	initComponent:function(){
</span>		var me = this;
		var surl = /((^https):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&amp;#;`~=%!]*)(\.\w{2,})?)*))\/?)/i;

		Ext.apply(Ext.form.field.VTypes, {
			surl:function(val, field){
				return surl.test(val);
			},
			surlText:'This field should be a Secure URL in the format &quot;https:/'+'/www.example.com&quot;'
		});
		Ext.applyIf(me, {
			items:[{
				flex:1,
				xtype:'fieldset',
				layout:'anchor',
				items:[{
					xtype:'hiddenfield',
					name:'datastore_id'
				},{
					fieldLabel:'Title',
					name:'datastore_title',
					xtype:'textfield'
				},{
					fieldLabel:'URL',
					xtype:'textfield',
					name:'datastore_url',
					vtype:'surl'
				}]
			}],
			bbar:[{text:'Update Datastore',action:&quot;updateDatastore&quot;,ui:'bootstrap-primary'},'-&gt;', {text:&quot;Delete Datastore&quot;, action:'deleteDatastore', datastore:me.datastore, ui:'bootstrap-danger'}],			
		});
		me.callParent(arguments);
		me.loadRecord(me.datastore);
	}
});</pre>
</body>
</html>
